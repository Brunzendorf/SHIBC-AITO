# Redis Sentinel Configuration for AITO
# Monitors redis-master and performs automatic failover

# Sentinel port
port 26379

# Monitor the master (redis-master on port 6379)
# Quorum of 2 means 2 sentinels must agree for failover
sentinel monitor mymaster redis-master 6379 2

# Failover if master is unreachable for 5 seconds
sentinel down-after-milliseconds mymaster 5000

# Timeout for failover operation
sentinel failover-timeout mymaster 10000

# Number of replicas to reconfigure after failover
sentinel parallel-syncs mymaster 1

# Disable protected mode for Docker networking
protected-mode no

# Announce IP/hostname for Docker networking
sentinel resolve-hostnames yes
sentinel announce-hostnames yes

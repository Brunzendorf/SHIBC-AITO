(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[634],{1977:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(5155),s=n(4049),i=n(8010),o=n(690),a=n(5635),l=n(6530);function c(e){let{error:t,onRetry:n}=e,c=t instanceof Error?t.message:t;return(0,r.jsx)(s.A,{sx:{p:2},children:(0,r.jsx)(i.A,{severity:"error",action:n&&(0,r.jsx)(o.A,{color:"inherit",size:"small",onClick:n,startIcon:(0,r.jsx)(l.A,{}),children:"Retry"}),children:(0,r.jsx)(a.A,{variant:"body2",children:c})})})}},2328:(e,t,n)=>{"use strict";n.d(t,{gf:()=>a});var r=n(3903);let s=n(636).env.NEXT_PUBLIC_API_URL||"http://localhost:8080",i=async e=>{let t=await fetch("".concat(s).concat(e));if(!t.ok)throw Error("HTTP ".concat(t.status));return t.json()},o={refreshInterval:5e3,revalidateOnFocus:!0,dedupingInterval:2e3};function a(e,t){return(0,r.Ay)(e,i,{...o,...t})}},4269:(e,t,n)=>{"use strict";function r(e){let t=new Date,n=new Date(e),r=Math.floor((t.getTime()-n.getTime())/1e3),s=Math.floor(r/60),i=Math.floor(s/60),o=Math.floor(i/24);return r<60?"just now":s<60?"".concat(s,"m ago"):i<24?"".concat(i,"h ago"):o<7?"".concat(o,"d ago"):n.toLocaleDateString()}function s(e){return new Date(e).toLocaleString()}n.d(t,{Yq:()=>s,mo:()=>r})},4675:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>B});var r,s=n(5155),i=n(2115),o=n(4049),a=n(5635),l=n(3495),c=n(1983),d=n(5967),h=n(2821),x=n(7001),A=n(1852),p=n(5222),u=n(5918),v=n(9960),f=n(6964),j=n(6625),g=n(5795),m=n(5195);function y(e){return(0,m.Ay)("MuiInputAdornment",e)}let b=(0,g.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),w=(0,v.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t["position".concat((0,A.A)(n.position))],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((0,f.A)(e=>{let{theme:t}=e;return{display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{["&.".concat(b.positionStart,"&:not(.").concat(b.hiddenLabel,")")]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}})),L=i.forwardRef(function(e,t){let n=(0,j.b)({props:e,name:"MuiInputAdornment"}),{children:o,className:l,component:c="div",disablePointerEvents:d=!1,disableTypography:v=!1,position:f,variant:g,...m}=n,b=(0,u.A)()||{},L=g;g&&b.variant,b&&!L&&(L=b.variant);let _={...n,hiddenLabel:b.hiddenLabel,size:b.size,disablePointerEvents:d,position:f,variant:L},S=(e=>{let{classes:t,disablePointerEvents:n,hiddenLabel:r,position:s,size:i,variant:o}=e,a={root:["root",n&&"disablePointerEvents",s&&"position".concat((0,A.A)(s)),o,r&&"hiddenLabel",i&&"size".concat((0,A.A)(i))]};return(0,x.A)(a,y,t)})(_);return(0,s.jsx)(p.A.Provider,{value:null,children:(0,s.jsx)(w,{as:c,ownerState:_,className:(0,h.A)(S.root,l),ref:t,...m,children:"string"!=typeof o||v?(0,s.jsxs)(i.Fragment,{children:["start"===f?r||(r=(0,s.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"â€‹"})):null,o]}):(0,s.jsx)(a.A,{color:"textSecondary",children:o})})})});var _=n(9767),S=n(4578),C=n(3070),E=n(6963),I=n(2456),T=n(4792),z=n(1356),P=n(5202),M=n(8548),N=n(6530);let k=(0,n(6697).A)((0,s.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");var R=n(7726),D=n(4269),H=n(9555),O=n(1977),F=n(7671),W=n(6757);let q={agent_started:"#00ff88",agent_stopped:"#ff4757",agent_loop:"#ffd700",agent_error:"#ff4757",decision_created:"#45b7d1",decision_resolved:"#00ff88",decision_vetoed:"#ffa502",escalation_created:"#ffa502",escalation_resolved:"#00ff88",message_sent:"#6c5ce7",message_received:"#45b7d1",error:"#ff4757"};function B(){let{data:e,error:t,isLoading:n,mutate:r}=(0,R.L)(100),[h,x]=(0,i.useState)(""),A=null==e?void 0:e.filter(e=>{var t,n;if(!h)return!0;let r=h.toLowerCase();return e.eventType.toLowerCase().includes(r)||(null==(t=e.sourceAgent)?void 0:t.toLowerCase().includes(r))||(null==(n=e.targetAgent)?void 0:n.toLowerCase().includes(r))});return n?(0,s.jsx)(H.A,{message:"Loading events..."}):t?(0,s.jsx)(O.A,{error:t,onRetry:()=>r()}):(0,s.jsxs)(o.A,{children:[(0,s.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[(0,s.jsxs)(o.A,{children:[(0,s.jsx)(a.A,{variant:"h4",gutterBottom:!0,sx:{fontWeight:700},children:"Event Log"}),(0,s.jsx)(a.A,{variant:"body2",color:"text.secondary",children:"System-wide event history"})]}),(0,s.jsx)(l.A,{title:"Refresh",children:(0,s.jsx)(c.A,{onClick:()=>r(),children:(0,s.jsx)(N.A,{})})})]}),(0,s.jsx)(o.A,{sx:{mb:3},children:(0,s.jsx)(d.A,{size:"small",placeholder:"Filter events...",value:h,onChange:e=>x(e.target.value),InputProps:{startAdornment:(0,s.jsx)(L,{position:"start",children:(0,s.jsx)(k,{color:"action"})})},sx:{width:300}})}),(null==A?void 0:A.length)?(0,s.jsx)(_.A,{children:(0,s.jsx)(S.A,{children:(0,s.jsx)(C.A,{children:(0,s.jsxs)(E.A,{size:"small",children:[(0,s.jsx)(I.A,{children:(0,s.jsxs)(T.A,{children:[(0,s.jsx)(z.A,{children:"Time"}),(0,s.jsx)(z.A,{children:"Event Type"}),(0,s.jsx)(z.A,{children:"Source"}),(0,s.jsx)(z.A,{children:"Target"}),(0,s.jsx)(z.A,{children:"Details"})]})}),(0,s.jsx)(P.A,{children:A.map(e=>(0,s.jsxs)(T.A,{hover:!0,children:[(0,s.jsx)(z.A,{sx:{whiteSpace:"nowrap"},children:(0,s.jsx)(l.A,{title:(0,D.Yq)(e.createdAt),children:(0,s.jsx)("span",{children:(0,D.mo)(e.createdAt)})})}),(0,s.jsx)(z.A,{children:(0,s.jsx)(M.A,{label:e.eventType.replace(/_/g," "),size:"small",sx:{backgroundColor:"".concat(q[e.eventType]||"#666","20"),color:q[e.eventType]||"#666",fontWeight:500,fontSize:"0.7rem"}})}),(0,s.jsx)(z.A,{children:e.sourceAgent||(0,s.jsx)(a.A,{variant:"caption",color:"text.secondary",children:"-"})}),(0,s.jsx)(z.A,{children:e.targetAgent||(0,s.jsx)(a.A,{variant:"caption",color:"text.secondary",children:"-"})}),(0,s.jsx)(z.A,{children:e.payload?(0,s.jsx)(a.A,{variant:"caption",sx:{fontFamily:"monospace",maxWidth:300,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block"},children:JSON.stringify(e.payload).slice(0,100)}):(0,s.jsx)(a.A,{variant:"caption",color:"text.secondary",children:"-"})})]},e.id))})]})})})}):(0,s.jsx)(F.A,{title:h?"No matching events":"No events",description:h?"Try adjusting your filter.":"Events will appear here as the system operates.",icon:(0,s.jsx)(W.A,{sx:{fontSize:64}})})]})}},6757:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(6697),s=n(5155);let i=(0,r.A)((0,s.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"History")},7671:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(5155),s=n(4049),i=n(5635),o=n(8089);function a(e){let{title:t="No data",description:n,icon:a,action:l}=e;return(0,r.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:200,gap:2,p:4},children:[(0,r.jsx)(s.A,{sx:{color:"text.secondary",opacity:.5},children:a||(0,r.jsx)(o.A,{sx:{fontSize:64}})}),(0,r.jsx)(i.A,{variant:"h6",color:"text.secondary",children:t}),n&&(0,r.jsx)(i.A,{variant:"body2",color:"text.secondary",textAlign:"center",children:n}),l]})}},7726:(e,t,n)=>{"use strict";n.d(t,{L:()=>s});var r=n(2328);function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return(0,r.gf)("/events?limit=".concat(e))}},8762:(e,t,n)=>{Promise.resolve().then(n.bind(n,4675))},9555:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(5155),s=n(4049),i=n(4474),o=n(5635);function a(e){let{message:t="Loading..."}=e;return(0,r.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:200,gap:2},children:[(0,r.jsx)(i.A,{color:"primary"}),(0,r.jsx)(o.A,{variant:"body2",color:"text.secondary",children:t})]})}}},e=>{e.O(0,[495,311,591,876,854,658,967,441,255,358],()=>e(e.s=8762)),_N_E=e.O()}]);